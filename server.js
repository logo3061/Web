const _0x540e53=_0x1cf0;(function(_0x2a7aa9,_0x677fc4){const _0x24a431=_0x1cf0,_0xd74594=_0x2a7aa9();while(!![]){try{const _0x4cc57d=-parseInt(_0x24a431(0x1b5))/0x1+parseInt(_0x24a431(0x197))/0x2*(-parseInt(_0x24a431(0x190))/0x3)+parseInt(_0x24a431(0x186))/0x4*(parseInt(_0x24a431(0x18b))/0x5)+parseInt(_0x24a431(0x18e))/0x6*(-parseInt(_0x24a431(0x1a5))/0x7)+parseInt(_0x24a431(0x19c))/0x8+-parseInt(_0x24a431(0x1a2))/0x9*(-parseInt(_0x24a431(0x1a3))/0xa)+parseInt(_0x24a431(0x191))/0xb;if(_0x4cc57d===_0x677fc4)break;else _0xd74594['push'](_0xd74594['shift']());}catch(_0x2928d7){_0xd74594['push'](_0xd74594['shift']());}}}(_0x3dee,0x65df0));const express=require(_0x540e53(0x1af)),path=require('path'),bcrypt=require(_0x540e53(0x1b3)),rateLimit=require(_0x540e53(0x1b2)),{createClient}=require(_0x540e53(0x192));require(_0x540e53(0x198))['config']();const app=express(),PORT=process.env.PORT||0x1f90,supabase=createClient('https://rixeqwlkgczmbvhtjndm.supabase.co',_0x540e53(0x1b0));app['use'](express[_0x540e53(0x1b1)]()),app[_0x540e53(0x1b4)](express[_0x540e53(0x189)](path[_0x540e53(0x18f)](__dirname,_0x540e53(0x1ae))));function _0x3dee(){const _0x135d20=['get','4664952uXnoFJ','username','from','compare','/api/downloads','log','18009BbjVLv','2290TTQxfn','Invalid\x20credentials','2806139hRTbsb','projects','post','/api/news','error','❌\x20Uncaught\x20Exception:','/api/login','index.html','Missing\x20credentials','public','express','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpeGVxd2xrZ2N6bWJ2aHRqbmRtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1Njc4OTMsImV4cCI6MjA4NjE0Mzg5M30._4GIn38eww1UQpW9JP1gfDQJXB48Fhluwm--oiA4XaE','json','express-rate-limit','bcryptjs','use','412411MkiEqc','uncaughtException','24wtafgd','unhandledRejection','password','static','send','199250jowUmc','reason:','single','12ljLzXx','join','4047CMjMRU','6695040SSjzJK','@supabase/supabase-js','body','index.html\x20wurde\x20nicht\x20im\x20public\x20Ordner\x20gefunden.','select','news','382MsnrWF','dotenv','exit','status'];_0x3dee=function(){return _0x135d20;};return _0x3dee();}function _0x1cf0(_0x3412d4,_0x43cfde){_0x3412d4=_0x3412d4-0x185;const _0x3dee16=_0x3dee();let _0x1cf031=_0x3dee16[_0x3412d4];return _0x1cf031;}const loginLimiter=rateLimit({'windowMs':0x3c*0x3e8,'max':0x5,'standardHeaders':!![],'legacyHeaders':![]});app[_0x540e53(0x1a7)](_0x540e53(0x1ab),loginLimiter,async(_0x3e2525,_0x116d2b)=>{const _0x222d30=_0x540e53,{username:_0x10d1ca,password:_0x417162}=_0x3e2525[_0x222d30(0x193)];if(!_0x10d1ca||!_0x417162)return _0x116d2b[_0x222d30(0x19a)](0x190)[_0x222d30(0x1b1)]({'success':![],'message':_0x222d30(0x1ad)});const {data:_0x4cca50,error:_0x32586d}=await supabase[_0x222d30(0x19e)]('users')[_0x222d30(0x195)]('username,password,role')['eq'](_0x222d30(0x19d),_0x10d1ca)[_0x222d30(0x18d)]();if(_0x32586d||!_0x4cca50)return _0x116d2b[_0x222d30(0x19a)](0x191)[_0x222d30(0x1b1)]({'success':![],'message':_0x222d30(0x1a4)});const _0x2ce630=await bcrypt[_0x222d30(0x19f)](_0x417162,_0x4cca50[_0x222d30(0x188)]);if(!_0x2ce630)return _0x116d2b['status'](0x191)[_0x222d30(0x1b1)]({'success':![],'message':_0x222d30(0x1a4)});_0x116d2b[_0x222d30(0x1b1)]({'success':!![],'user':{'username':_0x4cca50[_0x222d30(0x19d)],'role':_0x4cca50['role']}});});async function fetchSafe(_0x965077,_0x1251d8){const _0x36e682=_0x540e53,{data:_0x4d1a1c,error:_0x40b60d}=await _0x1251d8;if(_0x40b60d)return console['error'](_0x40b60d),_0x965077[_0x36e682(0x19a)](0x1f4)[_0x36e682(0x1b1)]([]);return _0x965077[_0x36e682(0x1b1)](_0x4d1a1c??[]);}app[_0x540e53(0x19b)](_0x540e53(0x1a8),(_0x1fcd25,_0x4b0082)=>fetchSafe(_0x4b0082,supabase[_0x540e53(0x19e)](_0x540e53(0x196))[_0x540e53(0x195)]('*')['order']('created_at',{'ascending':![]}))),app[_0x540e53(0x19b)]('/api/projects',(_0x50320b,_0x4cf65f)=>fetchSafe(_0x4cf65f,supabase[_0x540e53(0x19e)](_0x540e53(0x1a6))[_0x540e53(0x195)]('*'))),app[_0x540e53(0x19b)](_0x540e53(0x1a0),(_0x14a852,_0x109376)=>fetchSafe(_0x109376,supabase[_0x540e53(0x19e)]('downloads')[_0x540e53(0x195)]('*'))),app[_0x540e53(0x19b)](/.*/,(_0x28c24d,_0x25aa18)=>{const _0x3b98dc=_0x540e53;_0x25aa18['sendFile'](path[_0x3b98dc(0x18f)](__dirname,_0x3b98dc(0x1ae),_0x3b98dc(0x1ac)),_0x24415e=>{const _0x5c7e81=_0x3b98dc;_0x24415e&&_0x25aa18[_0x5c7e81(0x19a)](0x1f4)[_0x5c7e81(0x18a)](_0x5c7e81(0x194));});}),app['listen'](PORT,()=>{const _0xcaa39f=_0x540e53;console[_0xcaa39f(0x1a1)]('✅\x20SERVER\x20STARTED');}),process['on'](_0x540e53(0x187),(_0x89e706,_0x591d97)=>{const _0x268b8f=_0x540e53;console[_0x268b8f(0x1a9)]('❌\x20Unhandled\x20Rejection\x20at:',_0x591d97,_0x268b8f(0x18c),_0x89e706);}),process['on'](_0x540e53(0x185),_0x310532=>{const _0x53409d=_0x540e53;console[_0x53409d(0x1a9)](_0x53409d(0x1aa),_0x310532),process[_0x53409d(0x199)](0x1);});